@page "/"
@inject IUsersControllerClient UsersControllerClient
@inject NavigationManager NavigationManager
@code {

    protected override async Task OnInitializedAsync() => await TryGetUser();

    private async Task TryGetUser()
    {
        var response = await UsersControllerClient.GetCurrentUser(new GetCurrentUserRequest());
        if (response.CurrentUser is null)
        {
            NavigationManager.NavigateTo("/users");
            return;
        }
        NavigationManager.NavigateTo("/users/current");
    }
}